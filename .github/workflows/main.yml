name: build
on:
  push:
    branches:
    - master
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@master
      with:
        ref: master
    - name: python
      uses: actions/setup-python@v1
      with:
        python-version: 3.8
    - name: Install dependencies
      run: >-
        python -m
        pip install -r requirements.txt --user
    - name: Generate README.md
        run: python generate.py
    - name: push
      uses: github-actions-x/commit@v2.7
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        push-branch: "master"
        commit-message: "Update README.md"
        files: README.md
        name: GitHub Actions
        email: actions@github.com
